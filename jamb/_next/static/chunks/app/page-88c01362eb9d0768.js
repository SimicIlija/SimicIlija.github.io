(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8132:(e,l,r)=>{"use strict";r.r(l),r.d(l,{default:()=>p});var t=r(5155),a=r(2115),s=r(2596),n=r(9688);function i(){for(var e=arguments.length,l=Array(e),r=0;r<e;r++)l[r]=arguments[r];return(0,n.QP)((0,s.$)(l))}let o=a.forwardRef((e,l)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:l,className:i("w-full caption-bottom text-sm",r),...a})})});o.displayName="Table";let u=a.forwardRef((e,l)=>{let{className:r,...a}=e;return(0,t.jsx)("thead",{ref:l,className:i("[&_tr]:border-b",r),...a})});u.displayName="TableHeader";let c=a.forwardRef((e,l)=>{let{className:r,...a}=e;return(0,t.jsx)("tbody",{ref:l,className:i("[&_tr:last-child]:border-0",r),...a})});c.displayName="TableBody",a.forwardRef((e,l)=>{let{className:r,...a}=e;return(0,t.jsx)("tfoot",{ref:l,className:i("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let f=a.forwardRef((e,l)=>{let{className:r,...a}=e;return(0,t.jsx)("tr",{ref:l,className:i("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});f.displayName="TableRow";let d=a.forwardRef((e,l)=>{let{className:r,...a}=e;return(0,t.jsx)("th",{ref:l,className:i("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});d.displayName="TableHead";let m=a.forwardRef((e,l)=>{let{className:r,...a}=e;return(0,t.jsx)("td",{ref:l,className:i("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});m.displayName="TableCell",a.forwardRef((e,l)=>{let{className:r,...a}=e;return(0,t.jsx)("caption",{ref:l,className:i("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption";let x=["↓","S","↑","N","D","↕"],b=["1","2","3","4","5","6","Sum","Max","Min","Sum","Trilling","Straight","Full","Poker","Yamb","Total Sum"];function y(e){let{scores:l,handleCellClick:r}=e;return(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(o,{className:"max-w-full",children:[(0,t.jsx)(u,{children:(0,t.jsxs)(f,{children:[(0,t.jsx)(d,{className:"w-20"}),x.map((e,l)=>(0,t.jsx)(d,{className:"text-center",children:e},l))]})}),(0,t.jsx)(c,{children:Object.keys(l).map((e,a)=>(0,t.jsxs)(f,{children:[(0,t.jsx)(m,{className:"font-medium text-left border",children:b[a]}),l[e].map((l,a)=>{let s=e.toLowerCase().includes("sum");return(0,t.jsx)(m,{className:"text-center border ".concat(s?"bg-white text-black":""),onClick:()=>!s&&r(e,a),children:l},a)})]},e))})]})})}function h(e){let{stars:l,addStar:r,removeStar:a}=e;return(0,t.jsxs)("div",{className:"flex items-center gap-4 my-4",children:[(0,t.jsx)("button",{onClick:a,className:"px-4 py-2 bg-red-500 text-white rounded",children:"-"}),(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["Stars: ",l]}),(0,t.jsx)("button",{onClick:r,className:"px-4 py-2 bg-green-500 text-white rounded",children:"+"})]})}let v={ones:Array(6).fill(null),twos:Array(6).fill(null),threes:Array(6).fill(null),fours:Array(6).fill(null),fives:Array(6).fill(null),sixes:Array(6).fill(null),sum1:Array(6).fill(null),max:Array(6).fill(null),min:Array(6).fill(null),sum2:Array(6).fill(null),trilling:Array(6).fill(null),straight:Array(6).fill(null),full:Array(6).fill(null),poker:Array(6).fill(null),yamb:Array(6).fill(null),totalSum:Array(6).fill(null)},g={SCORES:"yamb-scores",STARS:"yamb-stars"};function p(){let{scores:e,stars:l,addStar:r,removeStar:s,handleCellClick:n,calculateFinalResult:i,resetAll:o}=function(){let[e,l]=(0,a.useState)(v),[r,t]=(0,a.useState)(0),[s,n]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{n(!0);let{scores:e,stars:r}=(()=>{try{let e=localStorage.getItem(g.SCORES),l=localStorage.getItem(g.STARS);return{scores:e?JSON.parse(e):v,stars:l?parseInt(l,10):0}}catch(e){return console.error("Failed to load from localStorage:",e),{scores:v,stars:0}}})();l(e),t(r)},[]),(0,a.useEffect)(()=>{s&&((e,l)=>{try{localStorage.setItem(g.SCORES,JSON.stringify(e)),localStorage.setItem(g.STARS,l.toString())}catch(e){console.error("Failed to save to localStorage:",e)}})(e,r)},[e,r,s]),{scores:e,stars:r,addStar:()=>{t(r+1)},removeStar:()=>{r>0&&t(r-1)},handleCellClick:(r,t)=>{let a=prompt("Enter score for ".concat(r));if(null!==a){let s=parseInt(a,10);if(isNaN(s))alert("Please enter a valid number.");else{let a=0,n=80,i=["ones","twos","threes","fours","fives","sixes"].indexOf(r)+1;if(-1!==["ones","twos","threes","fours","fives","sixes"].indexOf(r)){if(a=0,n=5*i,s%i!=0)return void alert("Value for ".concat(r," must be a multiple of ").concat(i))}else if("yamb"===r){if(s<0||s>80||(s-50)%5!=0)return void alert("Invalid value for yamb")}else if("poker"===r){if(s<0||s>64||(s-40)%4!=0)return void alert("Invalid value for poker")}else if("full"===r){if(s<0||s>60)return void alert("Value for full must be between 0 and 60")}else if("trilling"===r){if(s<0||s>38||(s-20)%3!=0)return void alert("Invalid value for trilling")}else if("straight"===r){if(![0,46,56,66].includes(s))return void alert("Value for straight must be 0, 46, 56 or 66")}else("max"===r||"min"===r)&&(a=5,n=30);if(s>=a&&s<=n){let a={...e};a[r][t]=s,l((e=>{let l={...e};for(let e=0;e<6;e++){let r=(l.ones[e]||0)+(l.twos[e]||0)+(l.threes[e]||0)+(l.fours[e]||0)+(l.fives[e]||0)+(l.sixes[e]||0);r>=60&&(r+=30),l.sum1[e]=r>0?r:null;let t=l.max[e]||0,a=l.min[e]||0;if(t>0&&a>0){let r=(t-a)*(l.ones[e]||0);r>=60&&(r+=30),l.sum2[e]=r}else l.sum2[e]=null;let s=(l.sum1[e]||0)+(l.sum2[e]||0)+(l.straight[e]||0)+(l.trilling[e]||0)+(l.full[e]||0)+(l.poker[e]||0)+(l.yamb[e]||0);l.totalSum[e]=s>0?s:null}return l})(a))}else alert("Please enter a valid value between ".concat(a," and ").concat(n," for ").concat(r,"."))}}},calculateFinalResult:()=>e.totalSum.reduce((e,l)=>e+(l||0),0)+20*r,resetAll:()=>{l({ones:Array(6).fill(null),twos:Array(6).fill(null),threes:Array(6).fill(null),fours:Array(6).fill(null),fives:Array(6).fill(null),sixes:Array(6).fill(null),sum1:Array(6).fill(null),max:Array(6).fill(null),min:Array(6).fill(null),sum2:Array(6).fill(null),trilling:Array(6).fill(null),straight:Array(6).fill(null),full:Array(6).fill(null),poker:Array(6).fill(null),yamb:Array(6).fill(null),totalSum:Array(6).fill(null)}),t(0)}}}(),u=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=async()=>{try{"wakeLock"in navigator&&(u.current=await navigator.wakeLock.request("screen"),console.log("Wake lock acquired"))}catch(e){console.error("Failed to acquire wake lock:",e)}},l=()=>{var l;"visible"===document.visibilityState&&(null==(l=u.current)?void 0:l.released)&&e()};return e(),document.addEventListener("visibilitychange",l),()=>{u.current&&!u.current.released&&(u.current.release(),console.log("Wake lock released")),document.removeEventListener("visibilitychange",l)}},[]),(0,t.jsxs)("main",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 my-4",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Yamb Scoreboard"}),(0,t.jsx)("button",{onClick:o,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded font-medium",children:"Reset"})]}),(0,t.jsx)(h,{stars:l,addStar:r,removeStar:s}),(0,t.jsx)(y,{scores:e,handleCellClick:n}),(0,t.jsxs)("div",{className:"mt-6 p-4 bg-blue-100 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-center text-black",children:"Final Result"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-center text-blue-800",children:[i()," points"]}),(0,t.jsxs)("p",{className:"text-sm text-center text-gray-600 mt-1",children:["(Total Sum + ",l," \xd7 20 star bonus)"]})]})]})}},9340:(e,l,r)=>{Promise.resolve().then(r.bind(r,8132))}},e=>{e.O(0,[277,441,964,358],()=>e(e.s=9340)),_N_E=e.O()}]);